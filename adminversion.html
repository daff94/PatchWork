<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des versions d'images</title>
    <link href="../css/pickercolor.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="css/tables.css" rel="stylesheet">
	<!-- <link href="css/main.css" rel="stylesheet"> -->
    <script>
        function showVersion() {
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
              if (this.readyState == 4 && this.status == 200) {
                document.getElementById("txtHint").innerHTML = this.responseText;
              }
            };
            xmlhttp.open("GET","/patchwork/ajax/ajxadminversion.php",true);
            xmlhttp.send();
        }

        domReady(showVersion);

        function domReady(f) {
            if (document.readyState === 'complete') {
                f();
            } else {
                document.addEventListener('DOMContentLoaded', f);
            }
        }

        function activerVersion(idversion){
            console.log("Activation de la version : " + idversion);
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
              if (this.readyState == 4 && this.status == 200) {
                document.getElementById("txtHint").innerHTML = this.responseText;
              }
            };
            xmlhttp.open("GET","/patchwork/ajax/ajxchangeversion.php?reqidVersion="+idversion,true);
            xmlhttp.send();
        }

        function supprimerVersion(idversion){
            console.log("Suppression de la version : " + idversion);
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
              if (this.readyState == 4 && this.status == 200) {
                document.getElementById("txtHint").innerHTML = this.responseText;
              }
            };
            xmlhttp.open("GET","/patchwork/ajax/ajxdeleteversion.php?reqidVersion="+idversion,true);
            xmlhttp.send();
        }

    </script>

    <style>
        table {
            border-collapse: collapse;
            width: auto;
        }

        th,
        td {
            border-bottom: 1px solid #ddd;
            text-align: center;
            padding: 8px;
        }
        th {
            background-color: #04AA6D;
            color: white;
        }
        tr:hover {
            background-color: coral;
        }
        /*
        tr:nth-child(even) {
            background-color: rgb(211, 211, 211);
        }*/

    </style>
</head>
<body>
<!-- Chargement du menu principal du site -->
<?php include 'menu_principal.html' ?>

<!-- <button type="button" onclick="showVersion()">Afficher toutes les versions disponibles</button> -->
<div id="txtHint" class="container"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

</body>
</html>